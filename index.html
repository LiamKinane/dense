<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>DENSE-AI · Flawless Voice + Learning</title>
    <style>
        :root { --primary:#6366f1; --bg:#0f172a; --card:#1e293b; --success:#10b981; --error:#f59e0b; }
        *{margin:0;padding:0;box-sizing:border-box;font-family:-apple-system,BlinkMacSystemFont,sans-serif}
        body{background:linear-gradient(135deg,#0f172a 0%,#1e293b 100%);min-height:100vh;display:flex;align-items:center;justify-content:center;padding:20px;color:#f1f5f9}
        .container{max-width:800px;width:100%;background:var(--card);border-radius:24px;box-shadow:0 25px 50px -12px rgba(0,0,0,0.5);overflow:hidden;border:1px solid #334155}
        .header{background:linear-gradient(135deg,var(--primary),#8b5cf6);color:white;padding:40px;text-align:center;position:relative}
        .header::after{content:'';position:absolute;bottom:0;left:0;right:0;height:2px;background:linear-gradient(90deg,transparent,var(--primary),transparent)}
        .tabs{display:flex;background:#334155;border-bottom:1px solid #475569}
        .tab{flex:1;padding:16px;text-align:center;cursor:pointer;transition:all 0.3s;font-weight:600}
        .tab.active{background:var(--primary);color:white;box-shadow:0 4px 6px -1px rgba(0,0,0,0.1)}
        .content{padding:40px;min-height:500px}
        .mic-container{text-align:center;margin:40px 0}
        .mic-btn{width:140px;height:140px;border-radius:50%;background:linear-gradient(135deg,var(--primary),#8b5cf6);color:white;border:none;font-size:3.5rem;cursor:pointer;position:relative;transition:all 0.3s;box-shadow:0 10px 25px -5px rgba(99,102,241,0.5)}
        .mic-btn:hover{transform:scale(1.05) rotate(5deg)}
        .mic-btn.recording{animation:breath 2s infinite;background:var(--error);box-shadow:0 0 0 0 rgba(245,158,11,0.7)}
        @keyframes breath{0%{box-shadow:0 0 0 0 rgba(245,158,11,0.7)}70%{box-shadow:0 0 0 20px rgba(245,158,11,0)}100%{box-shadow:0 0 0 0 rgba(245,158,11,0)}}
        .status{margin:20px 0;font-size:1.2rem;font-weight:600}
        .results{animation:fadeIn 0.5s ease-in}
        @keyframes fadeIn{from{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}
        .metric{display:flex;justify-content:space-between;align-items:center;padding:20px;margin:12px 0;background:#334155;border-radius:12px;transition:all 0.3s}
        .metric:hover{background:#475569;transform:translateX(5px)}
        .metric-label{font-weight:600;color:#cbd5e1}.metric-value{font-size:1.5rem;font-weight:700;color:var(--primary)}
        .recommendations{background:#334155;border-left:4px solid var(--success);padding:24px;margin-top:24px;border-radius:12px}
        .recommendation-item{margin:12px 0;padding:12px;background:#475569;border-radius:8px;transition:all 0.3s}
        .recommendation-item:hover{background:#64748b;transform:translateX(5px)}
        .youtube-input{display:flex;gap:16px;margin:24px 0}
        .youtube-input input{flex:1;padding:16px;border:1px solid #475569;border-radius:12px;background:#334155;color:#f1f5f9;font-size:1rem}
        .youtube-input input::placeholder{color:#94a3b8}
        .youtube-input button{padding:16px 32px;background:var(--primary);color:white;border:none;border-radius:12px;font-weight:600;cursor:pointer;transition:all 0.3s}
        .youtube-input button:hover{transform:translateY(-2px);box-shadow:0 10px 20px -5px rgba(99,102,241,0.5)}
        .study-card{background:#334155;border:1px solid #475569;padding:24px;margin:16px 0;border-radius:12px;transition:all 0.3s}
        .study-card:hover{background:#475569;transform:translateY(-2px)}
        .hidden{display:none}@media(max-width:600px){.container{margin:10px;border-radius:16px}}
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>🎯 DENSE-AI</h1>
            <p>Flawless Voice + Learning Platform</p>
        </div>
        
        <div class="tabs">
            <div class="tab active" data-tab="voice">🎤 Voice Coach</div>
            <div class="tab" data-tab="learning">📚 Learning</div>
            <div class="tab" data-tab="youtube">📺 YouTube AI</div>
        </div>

        <div class="content">
            <!-- Voice Coach -->
            <div class="tab-content active" id="voice">
                <div class="mic-container">
                    <button class="mic-btn" id="micBtn">🎤</button>
                    <div id="status" class="status">Tap to unlock TED-level communication</div>
                </div>
                
                <div id="voiceResults" class="results hidden">
                    <div class="metric">
                        <span class="metric-label">Communication Score</span>
                        <span class="metric-value" id="score">--</span>
                    </div>
                    <div class="metric">
                        <span class="metric-label">Filler Words Detected</span>
                        <span class="metric-value" id="fillers">--</span>
                    </div>
                    <div class="metric">
                        <span class="metric-label">Optimal Pace</span>
                        <span class="metric-value" id="pace">--</span>
                    </div>
                    
                    <div id="voiceRecs" class="recommendations">
                        <h4>🚀 Immediate Actions</h4>
                        <div id="recList"></div>
                    </div>
                </div>
            </div>

            <!-- Learning Assistant -->
            <div class="tab-content" id="learning">
                <h3>📚 AI Study Companion</h3>
                <div class="study-card">
                    <h4>🎯 Today's Challenge</h4>
                    <p>Record yourself explaining any concept in 60 seconds</p>
                    <button onclick="generateStudyPlan()" style="width:100%;padding:16px;background:var(--primary);color:white;border:none;border-radius:12px;cursor:pointer">Generate Study Plan</button>
                </div>
                <div id="studyPlan" class="hidden"></div>
            </div>

            <!-- YouTube AI -->
            <div class="tab-content" id="youtube">
                <h3>📺 YouTube AI Summaries</h3>
                <div class="youtube-input">
                    <input type="url" id="youtubeUrl" placeholder="Paste any YouTube URL here...">
                    <button onclick="summarizeVideo()">AI Summarize</button>
                </div>
                <div id="videoSummary" class="hidden"></div>
            </div>
        </div>
    </div>

    <script>
        class DenseAI {
            constructor() {
                this.state = { recording: false, transcript: '', tab: 'voice' };
                this.recognition = null;
                this.init();
            }

            init() {
                this.bindTabs();
                this.initVoiceRecognition();
                this.addKeyboardShortcuts();
            }

            bindTabs() {
                document.querySelectorAll('.tab').forEach(tab => {
                    tab.addEventListener('click', () => {
                        document.querySelectorAll('.tab, .tab-content').forEach(el => el.classList.remove('active'));
                        tab.classList.add('active');
                        document.getElementById(tab.dataset.tab).classList.add('active');
                        this.state.tab = tab.dataset.tab;
                    });
                });
            }

            initVoiceRecognition() {
                const micBtn = document.getElementById('micBtn');
                const status = document.getElementById('status');
                
                micBtn.addEventListener('click', () => {
                    if (!('webkitSpeechRecognition' in window)) {
                        status.textContent = 'Please use Chrome/Edge for voice features';
                        return;
                    }
                    
                    if (location.protocol !== 'https:') {
                        status.textContent = 'HTTPS required for microphone access';
                        return;
                    }

                    this.toggleVoiceRecording();
                });
            }

            toggleVoiceRecording() {
                if (this.state.recording) {
                    this.stopRecording();
                } else {
                    this.startRecording();
                }
            }

            startRecording() {
                this.state.recording = true;
                document.getElementById('micBtn').classList.add('recording');
                document.getElementById('micBtn').textContent = '⏹️';
                document.getElementById('status').textContent = '🔴 Recording... Speak naturally';
                document.getElementById('voiceResults').classList.add('hidden');

                this.recognition = new webkitSpeechRecognition();
                this.recognition.lang = 'en-US';
                this.recognition.continuous = false;
                this.recognition.interimResults = false;
                
                this.recognition.onstart = () => {
                    navigator.vibrate?.(100);
                };

                this.recognition.onresult = (event) => {
                    this.state.transcript = Array.from(event.results)
                        .map(result => result[0].transcript)
                        .join('');
                };

                this.recognition.onend = () => {
                    this.stopRecording();
                    this.analyzeTranscript(this.state.transcript);
                };

                this.recognition.onerror = (error) => {
                    this.stopRecording();
                    document.getElementById('status').textContent = 'Demo mode activated';
                    this.analyzeTranscript("This is a demonstration of the Dense-AI platform showing how it analyzes communication patterns um and provides like actionable feedback.");
                };

                this.recognition.start();
            }

            stopRecording() {
                this.state.recording = false;
                document.getElementById('micBtn').classList.remove('recording');
                document.getElementById('micBtn').textContent = '🎤';
                document.getElementById('status').textContent = 'Analyzing your brilliance...';
                
                if (this.recognition) {
                    this.recognition.stop();
                }
            }

            analyzeTranscript(text) {
                const fillers = text.toLowerCase().match(/um|uh|like|you know|basically|actually|literally/g)?.length || 0;
                const sentences = text.split(/[.!?]+/).filter(s => s.trim().length > 0);
                const words = text.split(/\s+/).length;
                const confidence = Math.max(0, 100 - (fillers * 8) - Math.max(0, (words/sentences.length - 20) * 2));
                
                document.getElementById('score').textContent = `${Math.round(confidence)}%`;
                document.getElementById('fillers').textContent = `${fillers} detected`;
                document.getElementById('pace').textContent = `${Math.round(words/sentences.length)} words/sentence`;
                
                const recommendations = [];
                if (fillers > 0) recommendations.push('🎯 Replace fillers with strategic pauses');
                if (words/sentences.length > 20) recommendations.push('📊 Use shorter sentences for clarity');
                if (confidence > 80) recommendations.push('🚀 Excellent! Practice advanced techniques');
                
                document.getElementById('recList').innerHTML = recommendations.map(r => `<div class="recommendation-item">${r}</div>`).join('');
                document.getElementById('voiceResults').classList.remove('hidden');
                document.getElementById('status').textContent = 'Analysis complete – ready for next recording';
            }

            addKeyboardShortcuts() {
                document.addEventListener('keydown', (e) => {
                    if (e.key === ' ') document.getElementById('micBtn').click();
                    if (e.key === '1') document.querySelector('[data-tab="voice"]').click();
                    if (e.key === '2') document.querySelector('[data-tab="learning"]').click();
                    if (e.key === '3') document.querySelector('[data-tab="youtube"]').click();
                });
            }
        }

        // Global functions for buttons
        window.generateStudyPlan = () => {
            const plans = [
                "📅 **Micro-Learning**: Record 60-second explanations daily",
                "🎯 **Feynman Technique**: Teach complex topics via voice",
                "💡 **Spaced Recall**: Review previous recordings weekly",
                "🎤 **Peak Performance**: Practice before presentations"
            ];
            
            document.getElementById('studyPlan').innerHTML = plans.map(p => `<div class="study-card">${p}</div>`).join('');
            document.getElementById('studyPlan').classList.remove('hidden');
        };

        window.summarizeVideo = () => {
            const url = document.getElementById('youtubeUrl').value;
            if (!url) return;
            
            const topics = {
                'psychology': 'Cognitive Psychology Basics',
                'math': 'Advanced Mathematics Concepts',
                'science': 'Scientific Method Applications',
                'history': 'Historical Analysis Techniques'
            };
            
            const topic = Object.keys(topics).find(t => url.toLowerCase().includes(t)) || 'Educational Content';
            
            document.getElementById('videoSummary').innerHTML = `
                <div class="study-card">
                    <h4>📊 AI Analysis</h4>
                    <p><strong>Topic:</strong> ${topics[topic]}</p>
                    <p><strong>Key Insights:</strong> 3 major concepts identified</p>
                    <p><strong>Action:</strong> Record 60-second explanation of concept #1</p>
                    <p><strong>Next Step:</strong> Practice active listening while watching</p>
                </div>
            `;
            document.getElementById('videoSummary').classList.remove('hidden');
        };

        // Initialize
        new DenseAI();
    </script>
</body>
</html>
